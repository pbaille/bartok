Clojure 1.6.0-alpha3
user=> #<Namespace bartok.midi.bartokizer>
bartok.midi.bartokizer=> :reloading (utils.utils utils.all bartok.rythmn.rval vendors.debug-repl bartok.litterals.all bartok.types.note bartok.structure.position bartok.composition.utils bartok.melody.all bartok.harmony.all bartok.rythmn.all bartok.composition.rythmic-step-pattern utils.macros bartok.melody.melodic-domain bartok.rythmn.analysis utils.noise bartok.midi.parser bartok.midi.bartokizer bartok.midi.overtone-midi utils.interpolator bartok.melody.strategies utils.t-utils vendors.profile bartok.melody.step-pattern bartok.harmony.h-function bartok.harmony.harmony bartok.composition.all bartok.core bartok.rythmn.utils bartok.rythmn.random-line utils.prob bartok.midi.midi z.contracts-try bartok.rythmn.humanize bartok.rythmn.weighted-line z.auto-class vendors.markov vendors.perlin-noise vendors.nrepl-middleware utils.dom-part)
Run `(doc midje)` for Midje usage.
:ok
bartok.midi.bartokizer=> bartok.midi.bartokizer=> (ts-convert {0 [2 4] 4 [4 4]} 8)
{8 nil, 0 [2 4], 4 [4 4]}
(([0 [2 4]] [4 [4 4]]) ([4 [4 4]] [8 nil]))
ArityException Wrong number of args (1) passed to: core/conj  clojure.lang.AFn.throwArity (AFn.java:429)
bartok.midi.bartokizer=> (ts-convert {0 [2 4] 4 [4 4]} 8)
{8 nil, 0 [2 4], 4 [4 4]}
(([0 [2 4]] [4 [4 4]]) ([4 [4 4]] [8 nil]))
ArityException Wrong number of args (1) passed to: core/conj  clojure.lang.AFn.throwArity (AFn.java:429)
bartok.midi.bartokizer=> (clojure.stacktrace/e)
clojure.lang.ArityException: Wrong number of args (1) passed to: core/conj
 at clojure.lang.AFn.throwArity (AFn.java:429)
    clojure.lang.RestFn.invoke (RestFn.java:412)
    bartok.midi.bartokizer$ts_convert.invoke (bartokizer.clj:46)
    bartok.midi.bartokizer$eval15477.invoke (form-init8024103073193625303.clj:5)
    clojure.lang.Compiler.eval (Compiler.java:6642)
    clojure.lang.Compiler.eval (Compiler.java:6605)
    clojure.core$eval.invoke (core.clj:2883)
    clojure.main$repl$read_eval_print__6581$fn__6584.invoke (main.clj:239)
nil
bartok.midi.bartokizer=> :reloading (bartok.midi.bartokizer)
:ok
bartok.midi.bartokizer=> bartok.midi.bartokizer=> (clojure.stacktrace/e)
clojure.lang.ArityException: Wrong number of args (1) passed to: core/conj
 at clojure.lang.AFn.throwArity (AFn.java:429)
    clojure.lang.RestFn.invoke (RestFn.java:412)
    bartok.midi.bartokizer$ts_convert.invoke (bartokizer.clj:46)
    bartok.midi.bartokizer$eval15477.invoke (form-init8024103073193625303.clj:5)
    clojure.lang.Compiler.eval (Compiler.java:6642)
    clojure.lang.Compiler.eval (Compiler.java:6605)
    clojure.core$eval.invoke (core.clj:2883)
    clojure.main$repl$read_eval_print__6581$fn__6584.invoke (main.clj:239)
nil
bartok.midi.bartokizer=> (ts-convert {0 [2 4] 4 [4 4]} 8)
{8 nil, 0 [2 4], 4 [4 4]}
(([0 [2 4]] [4 [4 4]]) ([4 [4 4]] [8 nil]))
[{:name :2|4, :val 2N, :numerator 2, :denominator 4} {:name :2|4, :val 2N, :numerator 2, :denominator 4} {:name :4|4, :val 4, :numerator 4, :denominator 4}]
bartok.midi.bartokizer=> (map :name *1)
(:2|4 :2|4 :4|4)
bartok.midi.bartokizer=> (map :name (ts-convert {0 [2 4] 12 [4 4]} 28))
{28 nil, 0 [2 4], 12 [4 4]}
(([0 [2 4]] [12 [4 4]]) ([12 [4 4]] [28 nil]))
(:2|4 :2|4 :2|4 :2|4 :2|4 :2|4 :4|4 :4|4 :4|4 :4|4)
bartok.midi.bartokizer=> (best > [1 2 3 4])
4
bartok.midi.bartokizer=> :reloading (bartok.midi.bartokizer)
:error-while-loading bartok.midi.bartokizer
#<CompilerException java.lang.RuntimeException: EOF while reading, starting at line 26, compiling:(bartok/midi/bartokizer.clj:66:1)>
bartok.midi.bartokizer=> bartok.midi.bartokizer=> :reloading (bartok.midi.bartokizer)
:error-while-loading bartok.midi.bartokizer
#<CompilerException java.lang.RuntimeException: Unable to resolve symbol: ts-convert in this context, compiling:(bartok/midi/bartokizer.clj:32:36)>
bartok.midi.bartokizer=> bartok.midi.bartokizer=> :reloading (bartok.midi.bartokizer)
:error-while-loading bartok.midi.bartokizer
#<CompilerException java.lang.RuntimeException: Unable to resolve symbol: feed-grid-with-meta in this context, compiling:(bartok/midi/bartokizer.clj:43:3)>
bartok.midi.bartokizer=> bartok.midi.bartokizer=> :reloading (bartok.midi.bartokizer)
:ok
bartok.midi.bartokizer=> bartok.midi.bartokizer=> (total-length (parse-midi-file "src/midi-files/bumble_bee.mid"))
NullPointerException   clojure.lang.Numbers.ops (Numbers.java:961)
bartok.midi.bartokizer=> (best > (map :position (parse-midi-file "src/midi-files/bumble_bee.mid")))
NullPointerException   clojure.lang.Numbers.ops (Numbers.java:961)
bartok.midi.bartokizer=> (map :position (parse-midi-file "src/midi-files/bumble_bee.mid"))
(nil nil)
bartok.midi.bartokizer=> (map :position (for [t (parse-midi-file "src/midi-files/bumble_bee.mid")]))
CompilerException clojure.lang.ArityException: Wrong number of args (1) passed to: core/for, compiling:(/private/var/folders/3w/l39tm8z56cs2ypk389nv_7lh0000gn/T/form-init8024103073193625303.clj:25:16) 
bartok.midi.bartokizer=> (map :position (for [t (parse-midi-file "src/midi-files/bumble_bee.mid")] t))
(nil nil)
bartok.midi.bartokizer=> (for [t (parse-midi-file "src/midi-files/bumble_bee.mid")] (map :position t))
((nil) (0 0 0 0 0 1/4 1/2 3/4 1 5/4 3/2 7/4 2 9/4 5/2 11/4 3 13/4 7/2 15/4 4 4 4 4 4 17/4 9/2 19/4 5 21/4 11/2 23/4 6 25/4 13/2 27/4 7 29/4 15/2 31/4 8 33/4 17/2 35/4 9 37/4 19/2 39/4 10 41/4 21/2 43/4 11 45/4 23/2 47/4 12 12 12 12 49/4 25/2 51/4 13 53/4 27/2 55/4 14 14 14 14 57/4 29/2 59/4 15 15 15 15 61/4 31/2 63/4 16 16 16 16 65/4 33/2 67/4 17 69/4 35/2 71/4 18 18 18 18 73/4 37/2 75/4 19 19 19 19 77/4 39/2 79/4 20 20 20 20 81/4 41/2 83/4 21 21 21 21 85/4 43/2 87/4 22 22 22 22 89/4 45/2 91/4 23 23 23 23 23 93/4 47/2 95/4 24 24 24 24 97/4 49/2 99/4 25 25 25 25 101/4 51/2 103/4 26 26 26 26 105/4 53/2 107/4 27 27 27 27 27 109/4 55/2 111/4 28 28 28 28 113/4 57/2 115/4 29 29 29 29 117/4 59/2 119/4 30 30 30 30 121/4 61/2 123/4 31 31 31 31 125/4 63/2 127/4 32 32 32 32 129/4 65/2 131/4 33 133/4 67/2 135/4 34 34 34 34 137/4 69/2 139/4 35 35 35 35 141/4 71/2 143/4 36 36 36 36 145/4 73/2 147/4 37 37 37 37 149/4 75/2 151/4 38 38 38 38 153/4 77/2 155/4 39 39 39 39 157/4 79/2 159/4 40 40 40 40 161/4 81/2 163/4 41 41 41 41 165/4 83/2 167/4 42 42 42 42 169/4 85/2 171/4 43 43 43 43 173/4 87/2 175/4 44 44 44 177/4 89/2 179/4 45 181/4 91/2 183/4 46 46 185/4 93/2 93/2 187/4 47 47 189/4 95/2 95/2 191/4 48 48 193/4 97/2 195/4 49 197/4 99/2 199/4 50 50 201/4 101/2 101/2 203/4 51 51 205/4 103/2 103/2 207/4 52 52 209/4 105/2 211/4 53 213/4 107/2 215/4 54 54 217/4 109/2 109/2 109/2 219/4 55 55 55 221/4 111/2 111/2 111/2 223/4 56 56 56 225/4 225/4 113/2 113/2 227/4 227/4 57 57 229/4 229/4 115/2 115/2 231/4 231/4 58 58 233/4 233/4 117/2 117/2 235/4 235/4 59 59 237/4 237/4 119/2 119/2 239/4 239/4 60 60 60 60 241/4 121/2 243/4 61 245/4 123/2 247/4 62 62 249/4 125/2 125/2 251/4 63 63 253/4 127/2 127/2 255/4 64 64 257/4 129/2 259/4 65 261/4 131/2 263/4 66 66 265/4 133/2 133/2 267/4 67 67 269/4 135/2 135/2 271/4 68 68 273/4 137/2 275/4 69 277/4 139/2 279/4 70 70 281/4 141/2 141/2 141/2 283/4 71 71 71 285/4 143/2 143/2 143/2 287/4 72 72 72 289/4 289/4 145/2 145/2 291/4 291/4 73 73 293/4 293/4 147/2 147/2 295/4 295/4 74 74 297/4 297/4 149/2 149/2 299/4 299/4 75 75 301/4 301/4 151/2 151/2 303/4 303/4 76 76 76 76 76 305/4 153/2 307/4 77 309/4 155/2 311/4 78 78 78 78 313/4 157/2 315/4 79 79 79 79 317/4 159/2 319/4 80 80 80 80 321/4 161/2 323/4 81 81 81 81 325/4 163/2 327/4 82 82 82 82 329/4 165/2 331/4 83 83 83 333/4 167/2 335/4 84 84 84 84 337/4 169/2 339/4 85 85 341/4 171/2 343/4 86 345/4 173/2 347/4 87 87 349/4 175/2 351/4 88 88 353/4 177/2 355/4 89 89 357/4 179/2 179/2 359/4 90 90 361/4 181/2 181/2 363/4 91 91 365/4 183/2 183/2 367/4 92 92 369/4 185/2 371/4 93 93 93 373/4 187/2 187/2 187/2 375/4 94 94 94 377/4 189/2 189/2 189/2 379/4 95 95 95 381/4 191/2 191/2 191/2 383/4 96 96 96 385/4 193/2 387/4 97 389/4 195/2 391/4 98 393/4 197/2 395/4 99 397/4 199/2 399/4 100 401/4 201/2 403/4 101 101 101 405/4 203/2 203/2 203/2 407/4 102 102 102 409/4 205/2 205/2 205/2 411/4 103 103 103 413/4 207/2 207/2 207/2 415/4 104 104 104 417/4 209/2 419/4 105 105 421/4 211/2 211/2 423/4 106 106 425/4 213/2 213/2 427/4 107 107 429/4 215/2 215/2 431/4 108 108 433/4 217/2 435/4 109 437/4 219/2 439/4 110 110 110 441/4 221/2 443/4 111 445/4 223/2 447/4 112 449/4 225/2 451/4 113 113 113 453/4 227/2 455/4 114 114 457/4 229/2 459/4 115 461/4 231/2 463/4 116 116 116 116 465/4 233/2 467/4 117 469/4 235/2 471/4 118 118 118 118 473/4 237/2 475/4 119 119 119 119 477/4 239/2 479/4 120 120 120 120 481/4 241/2 483/4 121 485/4 243/2 487/4 122 122 122 122 489/4 245/2 491/4 123 123 123 123 493/4 247/2 495/4 124 124 124 124 497/4 249/2 499/4 125 125 125 125 501/4 251/2 503/4 126 126 126 126 505/4 253/2 507/4 127 127 127 127 127 509/4 255/2 511/4 128 128 128 128 513/4 257/2 515/4 129 129 129 129 517/4 259/2 519/4 130 130 130 130 521/4 261/2 523/4 131 131 131 131 131 525/4 263/2 527/4 132 132 132 132 529/4 265/2 531/4 133 133 133 133 533/4 267/2 535/4 134 134 134 134 537/4 269/2 539/4 135 135 135 135 541/4 271/2 543/4 136 136 136 136 545/4 273/2 547/4 137 549/4 275/2 551/4 138 138 138 138 553/4 277/2 555/4 139 139 139 139 557/4 279/2 559/4 140 140 140 140 561/4 281/2 563/4 141 141 141 141 565/4 283/2 567/4 142 142 142 142 569/4 285/2 571/4 143 143 143 143 573/4 287/2 575/4 144 144 144 144 577/4 289/2 579/4 145 145 145 145 581/4 291/2 583/4 146 146 146 146 585/4 293/2 587/4 147 147 147 147 589/4 295/2 591/4 148 148 148 593/4 297/2 595/4 149 597/4 299/2 599/4 150 150 601/4 301/2 301/2 603/4 151 151 605/4 303/2 303/2 607/4 152 152 609/4 305/2 611/4 153 613/4 307/2 615/4 154 154 617/4 309/2 309/2 619/4 155 155 621/4 311/2 311/2 623/4 156 156 625/4 313/2 627/4 157 629/4 315/2 631/4 158 158 633/4 317/2 317/2 317/2 635/4 159 159 159 637/4 319/2 319/2 319/2 639/4 160 160 160 641/4 641/4 321/2 321/2 643/4 643/4 161 161 645/4 645/4 323/2 323/2 647/4 647/4 162 162 649/4 649/4 325/2 325/2 651/4 651/4 163 163 653/4 653/4 327/2 327/2 655/4 655/4 164 164 164 164 657/4 329/2 659/4 165 661/4 331/2 663/4 166 166 665/4 333/2 333/2 667/4 167 167 669/4 335/2 335/2 671/4 168 168 673/4 337/2 675/4 169 677/4 339/2 679/4 170 170 681/4 341/2 341/2 683/4 171 171 685/4 343/2 343/2 687/4 172 172 689/4 345/2 691/4 173 693/4 347/2 695/4 174 174 697/4 349/2 349/2 349/2 699/4 175 175 175 701/4 351/2 351/2 351/2 703/4 176 176 176 705/4 705/4 353/2 353/2 707/4 707/4 177 177 709/4 709/4 355/2 355/2 711/4 711/4 178 178 713/4 713/4 357/2 357/2 715/4 715/4 179 179 717/4 717/4 359/2 359/2 719/4 719/4 180 180 180 180 180 721/4 361/2 723/4 181 725/4 363/2 727/4 182 182 182 182 729/4 365/2 731/4 183 183 183 183 733/4 367/2 735/4 184 184 184 184 737/4 369/2 739/4 185 185 185 185 741/4 371/2 743/4 186 186 186 186 745/4 373/2 747/4 187 187 187 749/4 375/2 751/4 188 188 188 188 753/4 377/2 755/4 189 189 757/4 379/2 759/4 190 761/4 381/2 763/4 191 191 765/4 383/2 767/4 192 192 769/4 385/2 771/4 193 193 773/4 387/2 387/2 775/4 194 194 777/4 389/2 389/2 779/4 195 195 781/4 391/2 391/2 783/4 196 196 785/4 393/2 787/4 197 197 197 789/4 395/2 395/2 395/2 791/4 198 198 198 793/4 397/2 397/2 397/2 795/4 199 199 199 797/4 399/2 399/2 399/2 799/4 200 200 200 801/4 401/2 803/4 201 805/4 403/2 807/4 202 809/4 405/2 811/4 203 813/4 407/2 815/4 204 817/4 409/2 819/4 205 205 205 821/4 411/2 411/2 411/2 823/4 206 206 206 825/4 413/2 413/2 413/2 827/4 207 207 207 829/4 415/2 415/2 415/2 831/4 208 208 208 833/4 417/2 835/4 209 209 837/4 419/2 419/2 839/4 210 210 841/4 421/2 421/2 843/4 211 211 845/4 423/2 423/2 847/4 212 212 849/4 425/2 851/4 213 853/4 427/2 855/4 214 214 214 857/4 429/2 859/4 215 861/4 431/2 863/4 216 865/4 433/2 867/4 217 217 217 869/4 435/2 871/4 218 218 873/4 437/2 875/4 219 877/4 439/2 879/4 220 220 220 220 220 881/4 441/2 883/4 221 885/4 443/2 887/4 222 222 222 889/4 445/2 891/4 223 223 223 223 893/4 447/2 895/4 224 224 224 224 224 897/4 449/2 899/4 225 901/4 451/2 903/4 226 226 226 905/4 453/2 907/4 227 227 227 227 909/4 455/2 911/4 228 228 228 228 913/4 457/2 915/4 229 229 229 229 917/4 459/2 919/4 230 230 230 230 921/4 461/2 923/4 231 231 231 231 231 925/4 463/2 927/4 232 232 232 232 929/4 465/2 931/4 233 233 233 233 933/4 467/2 935/4 234 234 234 234 937/4 469/2 939/4 235 235 235 235 235 941/4 471/2 943/4 236 236 236 236 945/4 473/2 947/4 237 237 237 949/4 475/2 951/4 238 238 238 238 953/4 477/2 955/4 239 239 239 239 957/4 479/2 959/4 240 240 240 240 961/4 481/2 963/4 241 965/4 483/2 967/4 242 242 242 242 969/4 485/2 971/4 243 243 243 243 973/4 487/2 975/4 244 244 244 244 977/4 489/2 979/4 245 245 245 245 981/4 491/2 983/4 246 246 246 246 985/4 493/2 987/4 247 247 247 247 247 989/4 495/2 991/4 248 248 248 248 993/4 497/2 995/4 249 249 249 249 997/4 499/2 999/4 250 250 250 250 1001/4 501/2 1003/4 251 251 251 251 1005/4 503/2 1007/4 252 252 252 252 1009/4 505/2 505/2 505/2 505/2 1011/4 253 1013/4 507/2 1015/4 254 254 254 254 1017/4 509/2 1019/4 255 255 255 255 1021/4 511/2 1023/4 256 256 256 256 1025/4 513/2 513/2 513/2 513/2 1027/4 257 1029/4 515/2 1031/4 258 258 258 258 1033/4 517/2 1035/4 259 259 259 259 1037/4 519/2 1039/4 260 260 260 260 521/2 1043/4 261 261 1045/4 523/2 523/2 1047/4 262 262 1049/4 525/2 525/2 1051/4 263 263 1053/4 527/2 527/2 1055/4 264 264 1057/4 529/2 1059/4 265 1061/4 531/2 1063/4 266 266 266 266 266 1065/4 533/2 1067/4 267 1069/4 535/2 1071/4 268 268 268 537/2 1075/4 269 269 1077/4 539/2 539/2 1079/4 270 270 1081/4 541/2 541/2 1083/4 271 271 1085/4 543/2 543/2 1087/4 272 272 1089/4 545/2 1091/4 273 1093/4 547/2 1095/4 274 274 274 274 274 1097/4 549/2 1099/4 275 1101/4 551/2 1103/4 276 276 276 276 1105/4 553/2 1107/4 277 277 277 277 277 1109/4 555/2 1111/4 278 278 278 278 1113/4 557/2 1115/4 279 1117/4 559/2 1119/4 280 280 280 280 1121/4 561/2 1123/4 281 281 281 281 1125/4 563/2 1127/4 282 282 282 282 1129/4 565/2 1131/4 283 1133/4 567/2 1135/4 284 284 284 284 1137/4 569/2 1139/4 285 285 1141/4 571/2 571/2 1143/4 286 1145/4 573/2 573/2 1147/4 287 287 1149/4 575/2 575/2 1151/4 288 288 288 288 1153/4 577/2 1155/4 289 289 1157/4 1157/4 579/2 579/2 1159/4 290 290 1161/4 581/2 581/2 1163/4 1163/4 291 291 1165/4 1165/4 583/2 583/2 583/2 1167/4 1167/4 292 292 292 292 292 293 1173/4 587/2 1175/4 294 1177/4 589/2 1179/4 295 1181/4 591/2 1183/4 296 296 296 296 1185/4 593/2 1187/4 297 1189/4 595/2 1191/4 298 298 298 298 1193/4 597/2 1195/4 299 1197/4 599/2 1199/4 300 300 300 300 300 302 302 302 302 302 302 302 304 304 304 304))
bartok.midi.bartokizer=> (for [t (parse-midi-file "src/midi-files/bumble_bee.mid")] (best > (map :position t)))
(nil 304)
bartok.midi.bartokizer=> (best > (for [t (parse-midi-file "src/midi-files/bumble_bee.mid")] (best > (map :position t))))
NullPointerException   clojure.lang.Numbers.ops (Numbers.java:961)
bartok.midi.bartokizer=> (best > (for [t (parse-midi-file "src/midi-files/bumble_bee.mid")] (remove nil? (best > (map :position t)))))